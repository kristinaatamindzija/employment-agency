2022-12-18 00:00:35.244  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:05:35.410  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:10:35.416  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:15:35.428  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:20:35.437  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:25:35.453  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:30:35.474  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:35:35.486  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:40:35.493  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:45:35.499  INFO 10264 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 00:47:13.678  INFO 10264 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 00:47:13.682  INFO 10264 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671320833681, current=DOWN, previous=UP]
2022-12-18 00:47:13.685  INFO 10264 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 00:47:13.856  INFO 10264 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=java.net.ConnectException: Connection refused: no further information stacktrace=com.sun.jersey.api.client.ClientHandlerException: java.net.ConnectException: Connection refused: no further information
	at com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:187)
	at com.sun.jersey.api.client.filter.GZIPContentEncodingFilter.handle(GZIPContentEncodingFilter.java:123)
	at com.netflix.discovery.EurekaIdentityHeaderFilter.handle(EurekaIdentityHeaderFilter.java:27)
	at com.sun.jersey.api.client.Client.handle(Client.java:652)
	at com.sun.jersey.api.client.WebResource.handle(WebResource.java:682)
	at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)
	at com.sun.jersey.api.client.WebResource$Builder.post(WebResource.java:570)
	at com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.register(AbstractJerseyEurekaHttpClient.java:57)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.MetricsCollectingEurekaHttpClient.execute(MetricsCollectingEurekaHttpClient.java:73)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)
	at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)
	at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144)
	at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134)
	at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)
	at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)
	at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:173)
	... 28 more

2022-12-18 00:47:13.859  WARN 10264 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: java.net.ConnectException: Connection refused: no further information
2022-12-18 00:47:13.866  INFO 10264 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=java.net.ConnectException: Connection refused: no further information stacktrace=com.sun.jersey.api.client.ClientHandlerException: java.net.ConnectException: Connection refused: no further information
	at com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:187)
	at com.sun.jersey.api.client.filter.GZIPContentEncodingFilter.handle(GZIPContentEncodingFilter.java:123)
	at com.netflix.discovery.EurekaIdentityHeaderFilter.handle(EurekaIdentityHeaderFilter.java:27)
	at com.sun.jersey.api.client.Client.handle(Client.java:652)
	at com.sun.jersey.api.client.WebResource.handle(WebResource.java:682)
	at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)
	at com.sun.jersey.api.client.WebResource$Builder.post(WebResource.java:570)
	at com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.register(AbstractJerseyEurekaHttpClient.java:57)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.MetricsCollectingEurekaHttpClient.execute(MetricsCollectingEurekaHttpClient.java:73)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)
	at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)
	at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144)
	at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134)
	at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)
	at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)
	at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:173)
	... 29 more

2022-12-18 00:47:13.867  WARN 10264 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: java.net.ConnectException: Connection refused: no further information
2022-12-18 00:47:13.924  WARN 10264 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration failed Cannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-12-18 00:47:13.926  WARN 10264 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-12-18 00:47:13.999  INFO 10264 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 00:47:14.041  INFO 10264 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 00:47:14.048 DEBUG 10264 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 00:47:14.077 DEBUG 10264 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 00:47:14.086 DEBUG 10264 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 00:47:14.104  INFO 10264 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 00:47:14.163  INFO 10264 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 00:47:14.175  INFO 10264 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 00:47:17.187  INFO 10264 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 00:47:17.198  INFO 10264 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=java.net.ConnectException: Connection refused: no further information stacktrace=com.sun.jersey.api.client.ClientHandlerException: java.net.ConnectException: Connection refused: no further information
	at com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:187)
	at com.sun.jersey.api.client.filter.GZIPContentEncodingFilter.handle(GZIPContentEncodingFilter.java:123)
	at com.netflix.discovery.EurekaIdentityHeaderFilter.handle(EurekaIdentityHeaderFilter.java:27)
	at com.sun.jersey.api.client.Client.handle(Client.java:652)
	at com.sun.jersey.api.client.WebResource.handle(WebResource.java:682)
	at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)
	at com.sun.jersey.api.client.WebResource$Builder.delete(WebResource.java:591)
	at com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.cancel(AbstractJerseyEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.MetricsCollectingEurekaHttpClient.execute(MetricsCollectingEurekaHttpClient.java:73)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)
	at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)
	at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144)
	at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134)
	at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)
	at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)
	at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:173)
	... 47 more

2022-12-18 00:47:17.199  WARN 10264 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: java.net.ConnectException: Connection refused: no further information
2022-12-18 00:47:17.202 ERROR 10264 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - de-registration failedCannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390) ~[spring-cloud-context-3.1.5.jar:3.1.5]
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136) ~[spring-cloud-context-3.1.5.jar:3.1.5]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-12-18 00:47:17.234  INFO 10264 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 12:19:48.247  INFO 5908 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 5908 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 12:19:48.260  INFO 5908 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 12:19:49.886  INFO 5908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 12:19:50.154  INFO 5908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 251 ms. Found 2 JPA repository interfaces.
2022-12-18 12:19:50.517  INFO 5908 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=91450d2f-e144-394a-9be7-dd80fdfb2f4f
2022-12-18 12:19:51.207  INFO 5908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 12:19:51.224  INFO 5908 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 12:19:51.224  INFO 5908 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 12:19:51.510  INFO 5908 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 12:19:51.511  INFO 5908 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3182 ms
2022-12-18 12:19:51.955  INFO 5908 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 12:19:52.065  INFO 5908 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 12:19:52.400  INFO 5908 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 12:19:52.574  INFO 5908 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 12:19:52.878  INFO 5908 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 12:19:52.909  INFO 5908 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 12:19:54.027 DEBUG 5908 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 12:19:54.032  WARN 5908 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:19:54.033  WARN 5908 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 12:19:54.033 DEBUG 5908 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 12:19:54.034  WARN 5908 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:19:54.034  WARN 5908 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 12:19:54.034 DEBUG 5908 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 12:19:54.035  WARN 5908 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:19:54.035  WARN 5908 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 12:19:54.038 DEBUG 5908 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 12:19:54.049 DEBUG 5908 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        primary key (merchant_id)
    )
2022-12-18 12:19:54.065 DEBUG 5908 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 12:19:54.073  INFO 5908 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 12:19:54.083  INFO 5908 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 12:19:55.584  INFO 5908 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 12:19:55.703  WARN 5908 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 12:19:55.710  INFO 5908 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 12:19:55.750  INFO 5908 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 12:19:55.897  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 12:19:56.165  INFO 5908 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 12:19:56.167  INFO 5908 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 12:19:56.401  INFO 5908 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 12:19:56.401  INFO 5908 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 12:19:56.790  INFO 5908 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 12:19:56.825  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 12:19:56.825  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 12:19:56.826  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 12:19:56.827  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 12:19:56.827  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 12:19:56.827  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 12:19:56.827  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 12:19:57.252  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 12:19:57.256  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 12:19:57.261  INFO 5908 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 12:19:57.270  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671362397266 with initial instances count: 2
2022-12-18 12:19:57.274  INFO 5908 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 12:19:57.275  INFO 5908 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671362397275, current=UP, previous=STARTING]
2022-12-18 12:19:57.279  INFO 5908 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 12:19:57.316  INFO 5908 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 12:19:57.329  INFO 5908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 12:19:57.330  INFO 5908 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 12:19:57.426  INFO 5908 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 9.967 seconds (JVM running for 19.749)
2022-12-18 12:24:56.835  INFO 5908 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 12:29:56.839  INFO 5908 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 12:32:43.349  INFO 5908 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 12:32:43.349  INFO 5908 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671363163349, current=DOWN, previous=UP]
2022-12-18 12:32:43.350  INFO 5908 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 12:32:43.356  INFO 5908 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 12:32:43.382  INFO 5908 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 12:32:43.383  INFO 5908 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 12:32:43.423 DEBUG 5908 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 12:32:43.449 DEBUG 5908 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 12:32:43.452 DEBUG 5908 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 12:32:43.456  INFO 5908 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 12:32:43.462  INFO 5908 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 12:32:43.463  INFO 5908 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 12:32:46.475  INFO 5908 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 12:32:46.528  INFO 5908 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 12:32:46.548  INFO 5908 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 12:32:55.586  INFO 7196 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 7196 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 12:32:55.591  INFO 7196 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 12:32:58.035  INFO 7196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 12:32:58.493  INFO 7196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 443 ms. Found 3 JPA repository interfaces.
2022-12-18 12:32:59.142  INFO 7196 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 12:33:01.198  INFO 7196 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 12:33:01.213  INFO 7196 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 12:33:01.214  INFO 7196 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 12:33:01.602  INFO 7196 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 12:33:01.602  INFO 7196 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5870 ms
2022-12-18 12:33:02.543  INFO 7196 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 12:33:02.830  INFO 7196 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 12:33:03.470  INFO 7196 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 12:33:03.658  INFO 7196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 12:33:03.984  INFO 7196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 12:33:04.067  INFO 7196 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 12:33:05.469 DEBUG 7196 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 12:33:05.474  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:33:05.475  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 12:33:05.475 DEBUG 7196 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 12:33:05.476  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:33:05.476  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 12:33:05.476 DEBUG 7196 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 12:33:05.476  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:33:05.476  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 12:33:05.477 DEBUG 7196 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 12:33:05.477  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:33:05.477  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 12:33:05.477 DEBUG 7196 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 12:33:05.478  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:33:05.478  WARN 7196 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 12:33:05.481 DEBUG 7196 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 12:33:05.485 DEBUG 7196 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 12:33:05.493 DEBUG 7196 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        primary key (merchant_id)
    )
2022-12-18 12:33:05.506 DEBUG 7196 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 12:33:05.515 DEBUG 7196 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 12:33:05.595  INFO 7196 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 12:33:05.613  INFO 7196 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 12:33:08.338  INFO 7196 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 12:33:08.519  WARN 7196 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 12:33:08.528  INFO 7196 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 12:33:08.585  INFO 7196 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 12:33:08.965  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 12:33:09.206  INFO 7196 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 12:33:09.206  INFO 7196 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 12:33:09.465  INFO 7196 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 12:33:09.466  INFO 7196 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 12:33:09.719  INFO 7196 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 12:33:09.749  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 12:33:09.750  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 12:33:09.752  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 12:33:09.753  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 12:33:09.753  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 12:33:09.754  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 12:33:09.754  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 12:33:09.977  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 12:33:09.982  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 12:33:09.984  INFO 7196 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 12:33:09.990  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671363189989 with initial instances count: 2
2022-12-18 12:33:09.992  INFO 7196 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 12:33:09.993  INFO 7196 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671363189993, current=UP, previous=STARTING]
2022-12-18 12:33:09.997  INFO 7196 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 12:33:10.041  INFO 7196 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 12:33:10.045  INFO 7196 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 12:33:10.046  INFO 7196 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 12:33:10.167  INFO 7196 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 15.508 seconds (JVM running for 16.379)
2022-12-18 12:34:08.036  INFO 7196 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 12:34:08.037  INFO 7196 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671363248037, current=DOWN, previous=UP]
2022-12-18 12:34:08.038  INFO 7196 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 12:34:08.043  INFO 7196 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 12:34:08.063  INFO 7196 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 12:34:08.064  INFO 7196 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 12:34:08.068 DEBUG 7196 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 12:34:08.101 DEBUG 7196 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 12:34:08.104 DEBUG 7196 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 12:34:08.107 DEBUG 7196 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 12:34:08.109 DEBUG 7196 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 12:34:08.117  INFO 7196 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 12:34:08.132  INFO 7196 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 12:34:08.133  INFO 7196 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 12:34:11.143  WARN 7196 --- [DiscoveryClient-1] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2022-12-18 12:34:11.144  INFO 7196 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 12:34:11.154  INFO 7196 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 12:34:11.177  INFO 7196 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 12:34:15.321  INFO 1700 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 1700 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 12:34:15.327  INFO 1700 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 12:34:16.729  INFO 1700 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 12:34:16.930  INFO 1700 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 186 ms. Found 3 JPA repository interfaces.
2022-12-18 12:34:17.310  INFO 1700 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 12:34:17.989  INFO 1700 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 12:34:18.004  INFO 1700 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 12:34:18.005  INFO 1700 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 12:34:18.237  INFO 1700 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 12:34:18.237  INFO 1700 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2828 ms
2022-12-18 12:34:18.675  INFO 1700 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 12:34:18.757  INFO 1700 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 12:34:19.016  INFO 1700 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 12:34:19.160  INFO 1700 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 12:34:19.409  INFO 1700 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 12:34:19.434  INFO 1700 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 12:34:20.439 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 12:34:20.443  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:20.443  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 12:34:20.443 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 12:34:20.444  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:20.444  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 12:34:20.444 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 12:34:20.445  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:20.445  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 12:34:20.445 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 12:34:20.445  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:20.445  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 12:34:20.446 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 12:34:20.446  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:20.446  WARN 1700 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 12:34:20.448 DEBUG 1700 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 12:34:20.452 DEBUG 1700 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 12:34:20.454 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        primary key (merchant_id)
    )
2022-12-18 12:34:20.465 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 12:34:20.473 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 12:34:20.481  INFO 1700 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 12:34:20.492  INFO 1700 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 12:34:22.256  WARN 1700 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/C:/Users/Brankovic/Desktop/employment-agency/PaymentService/paypal-service/target/classes/data-postgres.sql]: insert into subscription_plan(id, product_id, merchant_id, plan_paypal_id) values(nextval('subscription_plan_id_seq'), 1, 1, 'P-82T63888Y87914132MOPPK7Y'); nested exception is org.postgresql.util.PSQLException: ERROR: relation "subscription_plan_id_seq" does not exist
  Position: 91
2022-12-18 12:34:22.259  INFO 1700 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 12:34:22.259  INFO 1700 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 12:34:22.260 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 12:34:22.265 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 12:34:22.268 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 12:34:22.272 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 12:34:22.274 DEBUG 1700 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 12:34:22.279  INFO 1700 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 12:34:22.293  INFO 1700 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 12:34:22.299  INFO 1700 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-12-18 12:34:22.363  INFO 1700 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-12-18 12:34:22.410 ERROR 1700 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/C:/Users/Brankovic/Desktop/employment-agency/PaymentService/paypal-service/target/classes/data-postgres.sql]: insert into subscription_plan(id, product_id, merchant_id, plan_paypal_id) values(nextval('subscription_plan_id_seq'), 1, 1, 'P-82T63888Y87914132MOPPK7Y'); nested exception is org.postgresql.util.PSQLException: ERROR: relation "subscription_plan_id_seq" does not exist
  Position: 91
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at com.example.paypalservice.PaypalServiceApplication.main(PaypalServiceApplication.java:10) ~[classes/:na]
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/C:/Users/Brankovic/Desktop/employment-agency/PaymentService/paypal-service/target/classes/data-postgres.sql]: insert into subscription_plan(id, product_id, merchant_id, plan_paypal_id) values(nextval('subscription_plan_id_seq'), 1, 1, 'P-82T63888Y87914132MOPPK7Y'); nested exception is org.postgresql.util.PSQLException: ERROR: relation "subscription_plan_id_seq" does not exist
  Position: 91
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-5.3.24.jar:5.3.24]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.24.jar:5.3.24]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-5.3.24.jar:5.3.24]
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:90) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:145) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:107) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:101) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:65) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]
	... 18 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "subscription_plan_id_seq" does not exist
  Position: 91
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.24.jar:5.3.24]
	... 28 common frames omitted

2022-12-18 12:34:42.049  INFO 9844 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 9844 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 12:34:42.052  INFO 9844 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 12:34:43.473  INFO 9844 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 12:34:43.781  INFO 9844 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 291 ms. Found 3 JPA repository interfaces.
2022-12-18 12:34:44.206  INFO 9844 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 12:34:44.947  INFO 9844 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 12:34:44.960  INFO 9844 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 12:34:44.960  INFO 9844 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 12:34:45.184  INFO 9844 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 12:34:45.185  INFO 9844 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3061 ms
2022-12-18 12:34:45.619  INFO 9844 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 12:34:45.701  INFO 9844 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 12:34:45.970  INFO 9844 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 12:34:46.116  INFO 9844 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 12:34:46.418  INFO 9844 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 12:34:46.440  INFO 9844 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 12:34:47.387 DEBUG 9844 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 12:34:47.392  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:47.393  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 12:34:47.393 DEBUG 9844 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 12:34:47.393  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:47.393  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 12:34:47.394 DEBUG 9844 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 12:34:47.394  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:47.394  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 12:34:47.394 DEBUG 9844 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 12:34:47.395  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:47.395  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 12:34:47.395 DEBUG 9844 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 12:34:47.395  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 12:34:47.396  WARN 9844 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 12:34:47.398 DEBUG 9844 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 12:34:47.405 DEBUG 9844 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 12:34:47.408 DEBUG 9844 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        primary key (merchant_id)
    )
2022-12-18 12:34:47.417 DEBUG 9844 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 12:34:47.422 DEBUG 9844 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 12:34:47.430  INFO 9844 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 12:34:47.440  INFO 9844 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 12:34:49.211  INFO 9844 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 12:34:49.338  WARN 9844 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 12:34:49.346  INFO 9844 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 12:34:49.388  INFO 9844 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 12:34:49.589  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 12:34:49.830  INFO 9844 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 12:34:49.830  INFO 9844 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 12:34:50.065  INFO 9844 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 12:34:50.065  INFO 9844 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 12:34:50.365  INFO 9844 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 12:34:50.389  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 12:34:50.389  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 12:34:50.390  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 12:34:50.390  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 12:34:50.390  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 12:34:50.391  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 12:34:50.391  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 12:34:50.747  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 12:34:50.750  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 12:34:50.754  INFO 9844 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 12:34:50.758  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671363290757 with initial instances count: 2
2022-12-18 12:34:50.760  INFO 9844 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 12:34:50.761  INFO 9844 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671363290761, current=UP, previous=STARTING]
2022-12-18 12:34:50.763  INFO 9844 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 12:34:50.803  INFO 9844 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 12:34:50.811  INFO 9844 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 12:34:50.813  INFO 9844 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 12:34:50.895  INFO 9844 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 9.602 seconds (JVM running for 10.266)
2022-12-18 12:39:50.410  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 12:44:50.426  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 12:49:50.442  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 12:54:50.448  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 12:59:50.462  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:04:50.467  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:09:50.480  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:14:50.493  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:19:50.509  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:24:50.534  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:29:50.541  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:34:50.544  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:39:50.549  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:44:50.562  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:49:50.585  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:54:50.592  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 13:59:50.610  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:04:50.617  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:09:50.627  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:14:50.632  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:19:50.653  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:21:37.530  INFO 9844 --- [http-nio-7706-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 14:21:37.536  INFO 9844 --- [http-nio-7706-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 14:21:37.796  INFO 9844 --- [http-nio-7706-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 260 ms
2022-12-18 14:21:38.779 DEBUG 9844 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        subscripti0_.id as id1_1_,
        subscripti0_.merchant_id as merchant2_1_,
        subscripti0_.plan_paypal_id as plan_pay3_1_,
        subscripti0_.product_id as product_4_1_ 
    from
        subscription_plan subscripti0_ 
    where
        subscripti0_.merchant_id=? 
        and subscripti0_.product_id=?
2022-12-18 14:21:38.829 TRACE 9844 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:21:38.835 TRACE 9844 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2022-12-18 14:22:37.736 DEBUG 9844 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:22:37.736 TRACE 9844 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:24:08.343 DEBUG 9844 --- [http-nio-7706-exec-4] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:24:08.345 TRACE 9844 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:24:50.664  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:25:05.932 DEBUG 9844 --- [http-nio-7706-exec-5] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:25:05.933 TRACE 9844 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:27:48.410 DEBUG 9844 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:27:48.411 TRACE 9844 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:28:29.147 DEBUG 9844 --- [http-nio-7706-exec-9] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:28:29.148 TRACE 9844 --- [http-nio-7706-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:29:50.669  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:30:05.091 DEBUG 9844 --- [http-nio-7706-exec-10] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:30:05.092 TRACE 9844 --- [http-nio-7706-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:30:17.212 DEBUG 9844 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:30:17.213 TRACE 9844 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:30:39.473 DEBUG 9844 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:30:39.474 TRACE 9844 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:30:52.050 DEBUG 9844 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:30:52.051 TRACE 9844 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:31:45.888 DEBUG 9844 --- [http-nio-7706-exec-4] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:31:45.889 TRACE 9844 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:33:01.046 DEBUG 9844 --- [http-nio-7706-exec-6] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:33:01.047 TRACE 9844 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:33:44.998 DEBUG 9844 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:33:44.999 TRACE 9844 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:34:23.603 DEBUG 9844 --- [http-nio-7706-exec-9] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:34:23.603 TRACE 9844 --- [http-nio-7706-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:34:50.683  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:35:01.790 DEBUG 9844 --- [http-nio-7706-exec-8] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:35:01.791 TRACE 9844 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:36:00.685 DEBUG 9844 --- [http-nio-7706-exec-10] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:36:00.686 TRACE 9844 --- [http-nio-7706-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:38:04.711 DEBUG 9844 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:38:04.712 TRACE 9844 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:38:28.547 DEBUG 9844 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:38:28.548 TRACE 9844 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:39:50.699  INFO 9844 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:40:04.449  INFO 9844 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 14:40:04.455  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671370804455, current=DOWN, previous=UP]
2022-12-18 14:40:04.459  INFO 9844 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 14:40:04.563  INFO 9844 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 14:40:05.175  INFO 9844 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:40:05.205  INFO 9844 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 14:40:05.227 DEBUG 9844 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:40:05.266 DEBUG 9844 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:40:05.269 DEBUG 9844 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:40:05.276 DEBUG 9844 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:40:05.279 DEBUG 9844 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:40:05.338  INFO 9844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 14:40:05.385  INFO 9844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 14:40:05.402  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 14:40:08.443  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 14:40:08.483  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 14:40:08.621  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 14:40:18.313  INFO 13308 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 13308 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 14:40:18.319  INFO 13308 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 14:40:20.297  INFO 13308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 14:40:20.567  INFO 13308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 255 ms. Found 3 JPA repository interfaces.
2022-12-18 14:40:20.917  INFO 13308 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 14:40:21.649  INFO 13308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 14:40:21.667  INFO 13308 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 14:40:21.667  INFO 13308 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 14:40:21.928  INFO 13308 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 14:40:21.929  INFO 13308 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3384 ms
2022-12-18 14:40:22.374  INFO 13308 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 14:40:22.465  INFO 13308 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 14:40:22.750  INFO 13308 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 14:40:22.911  INFO 13308 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 14:40:23.451  INFO 13308 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 14:40:23.520  INFO 13308 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 14:40:24.928 DEBUG 13308 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:40:24.935  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:40:24.935  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 14:40:24.935 DEBUG 13308 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:40:24.936  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:40:24.936  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 14:40:24.936 DEBUG 13308 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:40:24.937  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:40:24.937  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 14:40:24.937 DEBUG 13308 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:40:24.938  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:40:24.938  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 14:40:24.938 DEBUG 13308 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:40:24.939  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:40:24.939  WARN 13308 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 14:40:24.942 DEBUG 13308 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 14:40:24.953 DEBUG 13308 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 14:40:24.956 DEBUG 13308 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        primary key (merchant_id)
    )
2022-12-18 14:40:24.979 DEBUG 13308 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 14:40:24.986 DEBUG 13308 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 14:40:24.994  INFO 13308 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 14:40:25.006  INFO 13308 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:40:26.488  INFO 13308 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 14:40:26.603  WARN 13308 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 14:40:26.609  INFO 13308 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 14:40:26.643  INFO 13308 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 14:40:26.777  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 14:40:27.032  INFO 13308 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 14:40:27.033  INFO 13308 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 14:40:27.231  INFO 13308 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 14:40:27.231  INFO 13308 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 14:40:27.606  INFO 13308 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:40:27.636  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 14:40:27.637  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 14:40:27.637  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 14:40:27.637  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 14:40:27.637  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 14:40:27.637  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 14:40:27.637  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 14:40:27.859  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 14:40:27.875  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 14:40:27.883  INFO 13308 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 14:40:27.896  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671370827895 with initial instances count: 3
2022-12-18 14:40:27.899  INFO 13308 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 14:40:27.899  INFO 13308 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671370827899, current=UP, previous=STARTING]
2022-12-18 14:40:27.901  INFO 13308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 14:40:27.929  INFO 13308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 14:40:27.938  INFO 13308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 14:40:27.939  INFO 13308 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 14:40:28.026  INFO 13308 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 11.447 seconds (JVM running for 12.263)
2022-12-18 14:42:39.295  INFO 13308 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 14:42:39.296  INFO 13308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671370959296, current=DOWN, previous=UP]
2022-12-18 14:42:39.296  INFO 13308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 14:42:39.307  INFO 13308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 14:42:39.336  INFO 13308 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:42:39.336  INFO 13308 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 14:42:39.337 DEBUG 13308 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:42:39.353 DEBUG 13308 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:42:39.360 DEBUG 13308 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:42:39.372 DEBUG 13308 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:42:39.380 DEBUG 13308 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:42:39.387  INFO 13308 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 14:42:39.399  INFO 13308 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 14:42:39.400  INFO 13308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 14:42:42.413  INFO 13308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 14:42:42.422  INFO 13308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 14:42:42.441  INFO 13308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 14:42:49.139  INFO 4128 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 4128 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 14:42:49.142  INFO 4128 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 14:42:50.533  INFO 4128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 14:42:50.768  INFO 4128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 221 ms. Found 3 JPA repository interfaces.
2022-12-18 14:42:51.135  INFO 4128 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 14:42:51.855  INFO 4128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 14:42:51.871  INFO 4128 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 14:42:51.872  INFO 4128 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 14:42:52.109  INFO 4128 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 14:42:52.109  INFO 4128 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2909 ms
2022-12-18 14:42:52.582  INFO 4128 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 14:42:52.691  INFO 4128 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 14:42:53.017  INFO 4128 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 14:42:53.181  INFO 4128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 14:42:53.469  INFO 4128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 14:42:53.501  INFO 4128 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 14:42:54.520 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:42:54.526  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:42:54.526  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 14:42:54.526 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:42:54.527  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:42:54.527  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 14:42:54.527 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:42:54.528  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:42:54.528  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 14:42:54.528 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:42:54.529  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:42:54.529  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 14:42:54.529 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:42:54.530  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:42:54.530  WARN 4128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 14:42:54.532 DEBUG 4128 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 14:42:54.536 DEBUG 4128 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 14:42:54.538 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 14:42:54.548 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 14:42:54.556 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 14:42:54.562  INFO 4128 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 14:42:54.571  INFO 4128 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:42:56.019  WARN 4128 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/C:/Users/Brankovic/Desktop/employment-agency/PaymentService/paypal-service/target/classes/data-postgres.sql]: insert into subscription_plan(id, product_id, merchant_uuid, merchant_id, plan_paypal_id) values(nextval('plan_id_gen'), 'aaaaa', 1, 1, 'P-82T63888Y87914132MOPPK7Y'); nested exception is org.postgresql.util.PSQLException: ERROR: column "merchant_uuid" of relation "subscription_plan" does not exist
  Position: 47
2022-12-18 14:42:56.028  INFO 4128 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:42:56.029  INFO 4128 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 14:42:56.030 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:42:56.036 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:42:56.039 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:42:56.041 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:42:56.044 DEBUG 4128 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:42:56.048  INFO 4128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 14:42:56.061  INFO 4128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 14:42:56.064  INFO 4128 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-12-18 14:42:56.107  INFO 4128 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-12-18 14:42:56.148 ERROR 4128 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/C:/Users/Brankovic/Desktop/employment-agency/PaymentService/paypal-service/target/classes/data-postgres.sql]: insert into subscription_plan(id, product_id, merchant_uuid, merchant_id, plan_paypal_id) values(nextval('plan_id_gen'), 'aaaaa', 1, 1, 'P-82T63888Y87914132MOPPK7Y'); nested exception is org.postgresql.util.PSQLException: ERROR: column "merchant_uuid" of relation "subscription_plan" does not exist
  Position: 47
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at com.example.paypalservice.PaypalServiceApplication.main(PaypalServiceApplication.java:10) ~[classes/:na]
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/C:/Users/Brankovic/Desktop/employment-agency/PaymentService/paypal-service/target/classes/data-postgres.sql]: insert into subscription_plan(id, product_id, merchant_uuid, merchant_id, plan_paypal_id) values(nextval('plan_id_gen'), 'aaaaa', 1, 1, 'P-82T63888Y87914132MOPPK7Y'); nested exception is org.postgresql.util.PSQLException: ERROR: column "merchant_uuid" of relation "subscription_plan" does not exist
  Position: 47
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-5.3.24.jar:5.3.24]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.24.jar:5.3.24]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-5.3.24.jar:5.3.24]
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:90) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:145) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:107) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:101) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:65) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]
	... 18 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "merchant_uuid" of relation "subscription_plan" does not exist
  Position: 47
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.24.jar:5.3.24]
	... 28 common frames omitted

2022-12-18 14:44:16.951  INFO 6128 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 6128 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 14:44:16.956  INFO 6128 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 14:44:18.367  INFO 6128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 14:44:18.593  INFO 6128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 210 ms. Found 3 JPA repository interfaces.
2022-12-18 14:44:18.925  INFO 6128 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 14:44:19.629  INFO 6128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 14:44:19.642  INFO 6128 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 14:44:19.643  INFO 6128 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 14:44:19.867  INFO 6128 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 14:44:19.868  INFO 6128 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2830 ms
2022-12-18 14:44:20.342  INFO 6128 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 14:44:20.414  INFO 6128 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 14:44:20.696  INFO 6128 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 14:44:20.833  INFO 6128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 14:44:21.129  INFO 6128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 14:44:21.157  INFO 6128 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 14:44:22.131 DEBUG 6128 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:44:22.136  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:44:22.137  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 14:44:22.137 DEBUG 6128 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:44:22.138  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:44:22.138  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 14:44:22.138 DEBUG 6128 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:44:22.139  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:44:22.139  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 14:44:22.139 DEBUG 6128 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:44:22.139  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:44:22.139  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 14:44:22.140 DEBUG 6128 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:44:22.140  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:44:22.140  WARN 6128 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 14:44:22.142 DEBUG 6128 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 14:44:22.147 DEBUG 6128 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 14:44:22.150 DEBUG 6128 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 14:44:22.161 DEBUG 6128 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 14:44:22.169 DEBUG 6128 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 14:44:22.176  INFO 6128 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 14:44:22.185  INFO 6128 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:44:23.788  INFO 6128 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 14:44:23.909  WARN 6128 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 14:44:23.918  INFO 6128 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 14:44:23.955  INFO 6128 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 14:44:24.095  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 14:44:24.482  INFO 6128 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 14:44:24.487  INFO 6128 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 14:44:24.737  INFO 6128 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 14:44:24.737  INFO 6128 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 14:44:25.149  INFO 6128 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:44:25.173  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 14:44:25.173  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 14:44:25.174  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 14:44:25.174  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 14:44:25.174  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 14:44:25.174  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 14:44:25.174  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 14:44:25.458  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 14:44:25.461  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 14:44:25.463  INFO 6128 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 14:44:25.469  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671371065468 with initial instances count: 2
2022-12-18 14:44:25.471  INFO 6128 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 14:44:25.472  INFO 6128 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671371065472, current=UP, previous=STARTING]
2022-12-18 14:44:25.475  INFO 6128 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 14:44:25.528  INFO 6128 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 14:44:25.531  INFO 6128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 14:44:25.532  INFO 6128 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 14:44:25.641  INFO 6128 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 9.458 seconds (JVM running for 10.088)
2022-12-18 14:45:54.751  INFO 6128 --- [http-nio-7706-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 14:45:54.751  INFO 6128 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 14:45:54.754  INFO 6128 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-12-18 14:45:54.965 DEBUG 6128 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 14:45:54.983 TRACE 6128 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 14:49:25.184  INFO 6128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:54:17.418  INFO 6128 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 14:54:17.418  INFO 6128 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671371657418, current=DOWN, previous=UP]
2022-12-18 14:54:17.419  INFO 6128 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 14:54:17.451  INFO 6128 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:54:17.452  INFO 6128 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 14:54:17.453 DEBUG 6128 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:54:17.456  INFO 6128 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 14:54:17.466 DEBUG 6128 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:54:17.469 DEBUG 6128 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:54:17.472 DEBUG 6128 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:54:17.476 DEBUG 6128 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:54:17.488  INFO 6128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 14:54:17.502  INFO 6128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 14:54:17.503  INFO 6128 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 14:54:20.522  INFO 6128 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 14:54:20.533  INFO 6128 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 14:54:20.560  INFO 6128 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 14:54:35.446  INFO 2664 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 2664 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 14:54:35.450  INFO 2664 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 14:54:37.648  INFO 2664 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 14:54:38.014  INFO 2664 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 326 ms. Found 3 JPA repository interfaces.
2022-12-18 14:54:38.590  INFO 2664 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 14:54:40.013  INFO 2664 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 14:54:40.033  INFO 2664 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 14:54:40.034  INFO 2664 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 14:54:40.376  INFO 2664 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 14:54:40.377  INFO 2664 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4817 ms
2022-12-18 14:54:41.488  INFO 2664 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 14:54:41.703  INFO 2664 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 14:54:42.108  INFO 2664 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 14:54:42.281  INFO 2664 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 14:54:42.631  INFO 2664 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 14:54:42.667  INFO 2664 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 14:54:44.326 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:54:44.366  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:54:44.366  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 14:54:44.367 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:54:44.367  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:54:44.367  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 14:54:44.367 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:54:44.368  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:54:44.368  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 14:54:44.368 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:54:44.369  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:54:44.369  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 14:54:44.369 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:54:44.369  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:54:44.370  WARN 2664 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 14:54:44.372 DEBUG 2664 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 14:54:44.493 DEBUG 2664 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 14:54:44.537 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 14:54:44.608 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 14:54:44.624 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 14:54:44.645  INFO 2664 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 14:54:44.656  INFO 2664 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:54:45.366  WARN 2664 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paypalController' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\controller\PaypalController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transactionServiceImpl' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\service\implementations\TransactionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in com.example.paypalservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
2022-12-18 14:54:45.367  INFO 2664 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:54:45.367  INFO 2664 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 14:54:45.368 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:54:45.374 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:54:45.377 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:54:45.382 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:54:45.388 DEBUG 2664 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:54:45.392  INFO 2664 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 14:54:45.413  INFO 2664 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 14:54:45.416  INFO 2664 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-12-18 14:54:45.454  INFO 2664 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-12-18 14:54:45.525 ERROR 2664 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paypalController' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\controller\PaypalController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transactionServiceImpl' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\service\implementations\TransactionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in com.example.paypalservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at com.example.paypalservice.PaypalServiceApplication.main(PaypalServiceApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transactionServiceImpl' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\service\implementations\TransactionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in com.example.paypalservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in com.example.paypalservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]
	... 33 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103) ~[spring-data-commons-2.7.6.jar:2.7.6]
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	... 70 common frames omitted

2022-12-18 14:55:19.053  INFO 5800 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 5800 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 14:55:19.056  INFO 5800 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 14:55:20.620  INFO 5800 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 14:55:20.864  INFO 5800 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 230 ms. Found 3 JPA repository interfaces.
2022-12-18 14:55:21.227  INFO 5800 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 14:55:21.885  INFO 5800 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 14:55:21.900  INFO 5800 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 14:55:21.900  INFO 5800 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 14:55:22.190  INFO 5800 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 14:55:22.190  INFO 5800 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3061 ms
2022-12-18 14:55:23.236  INFO 5800 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 14:55:23.466  INFO 5800 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 14:55:24.110  INFO 5800 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 14:55:24.370  INFO 5800 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 14:55:25.059  INFO 5800 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 14:55:25.116  INFO 5800 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 14:55:26.494 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:55:26.509  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:55:26.539  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 14:55:26.543 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:55:26.544  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:55:26.545  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 14:55:26.545 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:55:26.546  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:55:26.546  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 14:55:26.546 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:55:26.547  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:55:26.548  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 14:55:26.548 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:55:26.549  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:55:26.549  WARN 5800 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 14:55:26.552 DEBUG 5800 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 14:55:26.557 DEBUG 5800 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 14:55:26.560 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 14:55:26.576 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 14:55:26.583 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 14:55:26.595  INFO 5800 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 14:55:26.608  INFO 5800 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:55:27.449  WARN 5800 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paypalController' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\controller\PaypalController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transactionServiceImpl' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\service\implementations\TransactionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in com.example.paypalservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
2022-12-18 14:55:27.449  INFO 5800 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:55:27.451  INFO 5800 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 14:55:27.452 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:55:27.459 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:55:27.462 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:55:27.466 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:55:27.469 DEBUG 5800 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:55:27.474  INFO 5800 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 14:55:27.483  INFO 5800 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 14:55:27.487  INFO 5800 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-12-18 14:55:27.519  INFO 5800 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-12-18 14:55:27.556 ERROR 5800 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'paypalController' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\controller\PaypalController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transactionServiceImpl' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\service\implementations\TransactionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in com.example.paypalservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at com.example.paypalservice.PaypalServiceApplication.main(PaypalServiceApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transactionServiceImpl' defined in file [C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes\com\example\paypalservice\service\implementations\TransactionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in com.example.paypalservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in com.example.paypalservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]
	... 33 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:87) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.paypalservice.model.Transaction com.example.paypalservice.repository.TransactionRepository.findByMerchanUuidAndProductUuid(java.lang.String,java.lang.String)! No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:119) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:259) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:93) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103) ~[spring-data-commons-2.7.6.jar:2.7.6]
	... 66 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'merchanUuid' found for type 'Transaction' Did you mean ''merchantUuid''
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:91) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:251) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:385) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:96) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	... 70 common frames omitted

2022-12-18 14:56:17.359  INFO 13940 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 13940 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 14:56:17.364  INFO 13940 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 14:56:18.785  INFO 13940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 14:56:19.061  INFO 13940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 258 ms. Found 3 JPA repository interfaces.
2022-12-18 14:56:19.410  INFO 13940 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 14:56:20.728  INFO 13940 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 14:56:20.743  INFO 13940 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 14:56:20.743  INFO 13940 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 14:56:20.990  INFO 13940 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 14:56:20.990  INFO 13940 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3554 ms
2022-12-18 14:56:21.426  INFO 13940 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 14:56:21.520  INFO 13940 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 14:56:21.866  INFO 13940 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 14:56:22.021  INFO 13940 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 14:56:22.326  INFO 13940 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 14:56:22.393  INFO 13940 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 14:56:23.445 DEBUG 13940 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:56:23.450  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:23.451  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 14:56:23.451 DEBUG 13940 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:56:23.452  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:23.452  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 14:56:23.452 DEBUG 13940 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:56:23.453  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:23.453  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 14:56:23.453 DEBUG 13940 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:56:23.454  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:23.454  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 14:56:23.454 DEBUG 13940 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:56:23.454  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:23.454  WARN 13940 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 14:56:23.457 DEBUG 13940 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 14:56:23.462 DEBUG 13940 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 14:56:23.464 DEBUG 13940 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 14:56:23.481 DEBUG 13940 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 14:56:23.488 DEBUG 13940 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 14:56:23.500  INFO 13940 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 14:56:23.510  INFO 13940 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:56:25.253  INFO 13940 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 14:56:25.376  WARN 13940 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 14:56:25.383  INFO 13940 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 14:56:25.425  INFO 13940 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 14:56:25.576  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 14:56:25.847  INFO 13940 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 14:56:25.849  INFO 13940 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 14:56:26.047  INFO 13940 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 14:56:26.047  INFO 13940 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 14:56:26.310  INFO 13940 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:56:26.331  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 14:56:26.332  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 14:56:26.332  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 14:56:26.332  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 14:56:26.332  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 14:56:26.332  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 14:56:26.332  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 14:56:26.506  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 14:56:26.510  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 14:56:26.514  INFO 13940 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 14:56:26.519  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671371786517 with initial instances count: 2
2022-12-18 14:56:26.522  INFO 13940 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 14:56:26.523  INFO 13940 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671371786523, current=UP, previous=STARTING]
2022-12-18 14:56:26.526  INFO 13940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 14:56:26.574  INFO 13940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 14:56:26.582  INFO 13940 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 14:56:26.584  INFO 13940 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 14:56:26.676  INFO 13940 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 10.073 seconds (JVM running for 10.868)
2022-12-18 14:56:44.162  INFO 13940 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 14:56:44.163  INFO 13940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671371804163, current=DOWN, previous=UP]
2022-12-18 14:56:44.163  INFO 13940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 14:56:44.175  INFO 13940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 14:56:44.202  INFO 13940 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:56:44.202  INFO 13940 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 14:56:44.203 DEBUG 13940 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:56:44.213 DEBUG 13940 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:56:44.218 DEBUG 13940 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:56:44.222 DEBUG 13940 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:56:44.225 DEBUG 13940 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:56:44.231  INFO 13940 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 14:56:44.242  INFO 13940 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 14:56:44.244  INFO 13940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 14:56:47.263  INFO 13940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 14:56:47.275  INFO 13940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 14:56:47.305  INFO 13940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 14:56:53.062  INFO 17764 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 17764 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 14:56:53.066  INFO 17764 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 14:56:54.434  INFO 17764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 14:56:54.666  INFO 17764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 218 ms. Found 3 JPA repository interfaces.
2022-12-18 14:56:55.017  INFO 17764 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 14:56:55.749  INFO 17764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 14:56:55.763  INFO 17764 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 14:56:55.764  INFO 17764 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 14:56:56.062  INFO 17764 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 14:56:56.062  INFO 17764 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2931 ms
2022-12-18 14:56:56.493  INFO 17764 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 14:56:56.562  INFO 17764 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 14:56:56.816  INFO 17764 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 14:56:57.030  INFO 17764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 14:56:57.258  INFO 17764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 14:56:57.287  INFO 17764 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 14:56:58.465 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 14:56:58.470  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:58.471  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 14:56:58.471 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 14:56:58.471  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:58.472  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 14:56:58.472 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 14:56:58.472  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:58.473  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 14:56:58.473 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 14:56:58.474  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:58.474  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 14:56:58.474 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 14:56:58.474  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 14:56:58.475  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 14:56:58.477 DEBUG 17764 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 14:56:58.483 DEBUG 17764 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 14:56:58.486 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 14:56:58.503 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 14:56:58.508 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 14:56:58.522  INFO 17764 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 14:56:58.541  INFO 17764 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 14:57:01.863  INFO 17764 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 14:57:01.987  WARN 17764 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 14:57:01.993  INFO 17764 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 14:57:02.051  INFO 17764 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 14:57:02.217  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 14:57:02.453  INFO 17764 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 14:57:02.454  INFO 17764 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 14:57:02.682  INFO 17764 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 14:57:02.682  INFO 17764 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 14:57:02.928  INFO 17764 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 14:57:02.974  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 14:57:02.974  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 14:57:02.975  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 14:57:02.975  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 14:57:02.978  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 14:57:02.978  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 14:57:02.978  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 14:57:03.198  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 14:57:03.202  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 14:57:03.206  INFO 17764 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 14:57:03.212  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671371823211 with initial instances count: 2
2022-12-18 14:57:03.215  INFO 17764 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 14:57:03.216  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671371823216, current=UP, previous=STARTING]
2022-12-18 14:57:03.218  INFO 17764 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 14:57:03.258  INFO 17764 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 14:57:03.302  INFO 17764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 14:57:03.304  INFO 17764 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 14:57:03.428  INFO 17764 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 11.077 seconds (JVM running for 11.724)
2022-12-18 15:01:11.226  INFO 17764 --- [http-nio-7706-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 15:01:11.226  INFO 17764 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 15:01:11.246  INFO 17764 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-12-18 15:01:11.385 DEBUG 17764 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 15:01:11.393 TRACE 17764 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 15:02:00.628 DEBUG 17764 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 15:02:00.628 TRACE 17764 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 15:02:02.994  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 15:02:04.882  WARN 17764 --- [http-nio-7706-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2022-12-18 15:03:16.698 DEBUG 17764 --- [http-nio-7706-exec-5] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 15:03:16.699 TRACE 17764 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 15:03:20.187  WARN 17764 --- [http-nio-7706-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2022-12-18 15:05:08.211  WARN 17764 --- [http-nio-7706-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2022-12-18 15:07:03.010  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 15:27:41.619  WARN 17764 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=19m14s339ms291s500ns).
2022-12-18 15:30:47.062  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 15:30:54.086  INFO 17764 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 15:30:54.089  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671373854089, current=DOWN, previous=UP]
2022-12-18 15:30:54.090  INFO 17764 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 15:30:54.114  INFO 17764 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 15:30:54.236  INFO 17764 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:30:54.248  INFO 17764 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 15:30:54.253 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:30:54.289 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:30:54.295 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:30:54.306 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:30:54.312 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 15:30:54.333  INFO 17764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 15:30:54.350  INFO 17764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 15:30:54.358  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 15:30:57.363  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 15:30:57.385  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 15:30:57.418  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 15:31:09.088  INFO 7408 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 7408 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 15:31:09.092  INFO 7408 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 15:31:10.735  INFO 7408 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 15:31:10.989  INFO 7408 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 241 ms. Found 3 JPA repository interfaces.
2022-12-18 15:31:11.343  INFO 7408 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 15:31:12.033  INFO 7408 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 15:31:12.048  INFO 7408 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 15:31:12.049  INFO 7408 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 15:31:12.261  INFO 7408 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 15:31:12.262  INFO 7408 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3102 ms
2022-12-18 15:31:12.863  INFO 7408 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 15:31:13.030  INFO 7408 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 15:31:13.309  INFO 7408 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 15:31:13.452  INFO 7408 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 15:31:13.726  INFO 7408 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 15:31:13.770  INFO 7408 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 15:31:14.661 DEBUG 7408 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:31:14.667  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:31:14.667  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 15:31:14.668 DEBUG 7408 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:31:14.668  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:31:14.669  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 15:31:14.669 DEBUG 7408 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:31:14.669  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:31:14.669  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 15:31:14.670 DEBUG 7408 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:31:14.670  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:31:14.670  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 15:31:14.670 DEBUG 7408 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 15:31:14.671  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:31:14.671  WARN 7408 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 15:31:14.673 DEBUG 7408 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 15:31:14.687 DEBUG 7408 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 15:31:14.701 DEBUG 7408 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 15:31:14.721 DEBUG 7408 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 15:31:14.731 DEBUG 7408 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 15:31:14.742  INFO 7408 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 15:31:14.752  INFO 7408 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:31:16.363  INFO 7408 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 15:31:16.485  WARN 7408 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 15:31:16.491  INFO 7408 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 15:31:16.528  INFO 7408 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 15:31:16.663  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 15:31:16.886  INFO 7408 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 15:31:16.886  INFO 7408 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 15:31:17.129  INFO 7408 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 15:31:17.129  INFO 7408 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 15:31:17.409  INFO 7408 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 15:31:17.435  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 15:31:17.435  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 15:31:17.435  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 15:31:17.435  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 15:31:17.435  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 15:31:17.435  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 15:31:17.435  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 15:31:17.681  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 15:31:17.686  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 15:31:17.690  INFO 7408 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 15:31:17.696  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671373877694 with initial instances count: 2
2022-12-18 15:31:17.699  INFO 7408 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 15:31:17.700  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671373877700, current=UP, previous=STARTING]
2022-12-18 15:31:17.702  INFO 7408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 15:31:17.731  INFO 7408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 15:31:17.736  INFO 7408 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 15:31:17.737  INFO 7408 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 15:31:17.821  INFO 7408 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 9.575 seconds (JVM running for 10.359)
2022-12-18 15:31:37.751  INFO 7408 --- [http-nio-7706-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 15:31:37.751  INFO 7408 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 15:31:37.755  INFO 7408 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-12-18 15:31:37.876 DEBUG 7408 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 15:31:37.883 TRACE 7408 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 15:31:45.301 DEBUG 7408 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 15:31:45.302 TRACE 7408 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 15:31:54.634  WARN 7408 --- [http-nio-7706-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2022-12-18 15:32:04.825  WARN 7408 --- [http-nio-7706-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2022-12-18 15:33:24.748  INFO 7408 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 15:33:24.749  INFO 7408 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671374004749, current=DOWN, previous=UP]
2022-12-18 15:33:24.749  INFO 7408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 15:33:24.759  INFO 7408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 15:33:24.795  INFO 7408 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:33:24.799  INFO 7408 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 15:33:24.801 DEBUG 7408 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:33:24.820 DEBUG 7408 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:33:24.823 DEBUG 7408 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:33:24.829 DEBUG 7408 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:33:24.832 DEBUG 7408 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 15:33:24.837  INFO 7408 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 15:33:24.862  INFO 7408 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 15:33:24.868  INFO 7408 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 15:33:27.871  INFO 7408 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 15:33:27.879  INFO 7408 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 15:33:27.903  INFO 7408 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 15:33:34.612  INFO 20376 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 20376 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 15:33:34.615  INFO 20376 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 15:33:36.008  INFO 20376 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 15:33:36.238  INFO 20376 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 216 ms. Found 3 JPA repository interfaces.
2022-12-18 15:33:36.607  INFO 20376 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 15:33:37.425  INFO 20376 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 15:33:37.436  INFO 20376 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 15:33:37.437  INFO 20376 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 15:33:37.706  INFO 20376 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 15:33:37.706  INFO 20376 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3009 ms
2022-12-18 15:33:38.179  INFO 20376 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 15:33:38.289  INFO 20376 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 15:33:38.580  INFO 20376 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 15:33:38.752  INFO 20376 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 15:33:39.050  INFO 20376 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 15:33:39.081  INFO 20376 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 15:33:40.200 DEBUG 20376 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:33:40.205  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:33:40.206  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 15:33:40.206 DEBUG 20376 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:33:40.207  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:33:40.207  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 15:33:40.207 DEBUG 20376 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:33:40.207  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:33:40.208  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 15:33:40.208 DEBUG 20376 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:33:40.208  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:33:40.208  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 15:33:40.208 DEBUG 20376 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 15:33:40.209  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:33:40.209  WARN 20376 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 15:33:40.211 DEBUG 20376 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 15:33:40.217 DEBUG 20376 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 15:33:40.220 DEBUG 20376 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 15:33:40.236 DEBUG 20376 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 15:33:40.241 DEBUG 20376 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 15:33:40.253  INFO 20376 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 15:33:40.264  INFO 20376 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:33:42.455  INFO 20376 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 15:33:42.615  WARN 20376 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 15:33:42.624  INFO 20376 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 15:33:42.712  INFO 20376 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 15:33:42.850  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 15:33:43.123  INFO 20376 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 15:33:43.124  INFO 20376 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 15:33:43.358  INFO 20376 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 15:33:43.358  INFO 20376 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 15:33:43.641  INFO 20376 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 15:33:43.704  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 15:33:43.704  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 15:33:43.704  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 15:33:43.704  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 15:33:43.704  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 15:33:43.704  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 15:33:43.704  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 15:33:43.951  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 15:33:43.957  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 15:33:43.959  INFO 20376 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 15:33:43.963  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671374023962 with initial instances count: 3
2022-12-18 15:33:43.966  INFO 20376 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 15:33:43.967  INFO 20376 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671374023967, current=UP, previous=STARTING]
2022-12-18 15:33:43.969  INFO 20376 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 15:33:44.005  INFO 20376 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 15:33:44.020  INFO 20376 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 15:33:44.022  INFO 20376 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 15:33:44.123  INFO 20376 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 10.242 seconds (JVM running for 11.687)
2022-12-18 15:33:47.845  INFO 20376 --- [http-nio-7706-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 15:33:47.846  INFO 20376 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 15:33:47.860  INFO 20376 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2022-12-18 15:33:47.985 DEBUG 20376 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 15:33:47.995 TRACE 20376 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 15:33:53.103 ERROR 20376 --- [http-nio-7706-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): com.example.paypalservice.model.Transaction; nested exception is org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.example.paypalservice.model.Transaction] with root cause

org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.example.paypalservice.model.Transaction
	at org.hibernate.id.Assigned.generate(Assigned.java:33) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.24.jar:5.3.24]
	at jdk.proxy2/jdk.proxy2.$Proxy129.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.24.jar:5.3.24]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.24.jar:5.3.24]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.6.jar:2.7.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.24.jar:5.3.24]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.24.jar:5.3.24]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.24.jar:5.3.24]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.24.jar:5.3.24]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.24.jar:5.3.24]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.24.jar:5.3.24]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.24.jar:5.3.24]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.6.jar:2.7.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.24.jar:5.3.24]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.24.jar:5.3.24]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.24.jar:5.3.24]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.24.jar:5.3.24]
	at jdk.proxy2/jdk.proxy2.$Proxy135.save(Unknown Source) ~[na:na]
	at com.example.paypalservice.service.implementations.TransactionServiceImpl.createTransaction(TransactionServiceImpl.java:25) ~[classes/:na]
	at com.example.paypalservice.controller.PaypalController.createTransaction(PaypalController.java:37) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.24.jar:5.3.24]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.24.jar:5.3.24]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.24.jar:5.3.24]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.24.jar:5.3.24]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.24.jar:5.3.24]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.24.jar:5.3.24]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.24.jar:5.3.24]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.24.jar:5.3.24]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.24.jar:5.3.24]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.24.jar:5.3.24]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.24.jar:5.3.24]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.24.jar:5.3.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.24.jar:5.3.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.24.jar:5.3.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.69.jar:9.0.69]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-12-18 15:34:36.474  INFO 20376 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 15:34:36.474  INFO 20376 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671374076474, current=DOWN, previous=UP]
2022-12-18 15:34:36.474  INFO 20376 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 15:34:36.482  INFO 20376 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 15:34:36.716  INFO 20376 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:34:36.719  INFO 20376 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 15:34:36.720 DEBUG 20376 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:34:36.735 DEBUG 20376 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:34:36.738 DEBUG 20376 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:34:36.743 DEBUG 20376 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:34:36.746 DEBUG 20376 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 15:34:36.758  INFO 20376 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 15:34:36.923  INFO 20376 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 15:34:36.926  INFO 20376 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 15:34:39.946  INFO 20376 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 15:34:39.961  INFO 20376 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 15:34:39.991  INFO 20376 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 15:34:47.515  INFO 1372 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 1372 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 15:34:47.519  INFO 1372 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 15:34:48.959  INFO 1372 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 15:34:49.337  INFO 1372 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 359 ms. Found 3 JPA repository interfaces.
2022-12-18 15:34:50.128  INFO 1372 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 15:34:50.966  INFO 1372 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 15:34:50.983  INFO 1372 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 15:34:50.983  INFO 1372 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 15:34:51.336  INFO 1372 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 15:34:51.336  INFO 1372 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3732 ms
2022-12-18 15:34:51.842  INFO 1372 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 15:34:51.918  INFO 1372 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 15:34:52.450  INFO 1372 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 15:34:52.643  INFO 1372 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 15:34:53.431  INFO 1372 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 15:34:53.456  INFO 1372 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 15:34:54.784 DEBUG 1372 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:34:54.789  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:34:54.789  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 15:34:54.790 DEBUG 1372 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:34:54.790  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:34:54.790  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 15:34:54.790 DEBUG 1372 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:34:54.791  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:34:54.791  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 15:34:54.791 DEBUG 1372 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:34:54.792  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:34:54.792  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 15:34:54.792 DEBUG 1372 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 15:34:54.792  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:34:54.793  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_gen" does not exist, skipping
2022-12-18 15:34:54.793 DEBUG 1372 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_gen
2022-12-18 15:34:54.793  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:34:54.793  WARN 1372 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "transaction_id_gen" does not exist, skipping
2022-12-18 15:34:54.795 DEBUG 1372 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 15:34:54.799 DEBUG 1372 --- [main] org.hibernate.SQL                        : create sequence plan_id_gen start 1 increment 1
2022-12-18 15:34:54.801 DEBUG 1372 --- [main] org.hibernate.SQL                        : create sequence transaction_id_gen start 1 increment 1
2022-12-18 15:34:54.804 DEBUG 1372 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 15:34:54.817 DEBUG 1372 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 15:34:54.822 DEBUG 1372 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 15:34:54.832  INFO 1372 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 15:34:54.841  INFO 1372 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:34:57.368  INFO 1372 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 15:34:57.616  WARN 1372 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 15:34:57.632  INFO 1372 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 15:34:57.689  INFO 1372 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 15:34:57.815  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 15:34:58.190  INFO 1372 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 15:34:58.191  INFO 1372 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 15:34:58.562  INFO 1372 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 15:34:58.562  INFO 1372 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 15:35:00.014  INFO 1372 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 15:35:00.045  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 15:35:00.046  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 15:35:00.048  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 15:35:00.051  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 15:35:00.053  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 15:35:00.054  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 15:35:00.054  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 15:35:00.292  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 15:35:00.295  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 15:35:00.299  INFO 1372 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 15:35:00.303  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671374100302 with initial instances count: 2
2022-12-18 15:35:00.305  INFO 1372 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 15:35:00.307  INFO 1372 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671374100307, current=UP, previous=STARTING]
2022-12-18 15:35:00.308  INFO 1372 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 15:35:00.352  INFO 1372 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 15:35:00.371  INFO 1372 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 15:35:00.372  INFO 1372 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 15:35:00.486  INFO 1372 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 13.869 seconds (JVM running for 14.598)
2022-12-18 15:35:01.742  INFO 1372 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 15:35:01.742  INFO 1372 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671374101742, current=DOWN, previous=UP]
2022-12-18 15:35:01.743  INFO 1372 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 15:35:01.748  INFO 1372 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 15:35:01.770  INFO 1372 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:35:01.770  INFO 1372 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 15:35:01.772 DEBUG 1372 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:35:01.783 DEBUG 1372 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:35:01.787 DEBUG 1372 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:35:01.791 DEBUG 1372 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:35:01.794 DEBUG 1372 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_gen
2022-12-18 15:35:01.796 DEBUG 1372 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_gen
2022-12-18 15:35:01.800  INFO 1372 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 15:35:01.810  INFO 1372 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 15:35:01.811  INFO 1372 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 15:35:19.071  INFO 18136 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 18136 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 15:35:19.074  INFO 18136 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 15:35:20.529  INFO 18136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 15:35:20.765  INFO 18136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 221 ms. Found 3 JPA repository interfaces.
2022-12-18 15:35:21.113  INFO 18136 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 15:35:21.837  INFO 18136 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 15:35:21.850  INFO 18136 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 15:35:21.851  INFO 18136 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 15:35:22.104  INFO 18136 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 15:35:22.104  INFO 18136 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2949 ms
2022-12-18 15:35:22.564  INFO 18136 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 15:35:22.644  INFO 18136 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 15:35:22.943  INFO 18136 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 15:35:23.134  INFO 18136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 15:35:23.437  INFO 18136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 15:35:23.467  INFO 18136 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 15:35:24.539 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:35:24.544  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:24.544  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 15:35:24.544 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:35:24.545  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:24.545  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 15:35:24.545 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:35:24.546  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:24.546  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 15:35:24.546 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:35:24.547  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:24.547  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 15:35:24.547 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 15:35:24.548  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:24.548  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_seq" does not exist, skipping
2022-12-18 15:35:24.548 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 15:35:24.549  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:24.549  WARN 18136 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "transaction_id_seq" does not exist, skipping
2022-12-18 15:35:24.551 DEBUG 18136 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 15:35:24.555 DEBUG 18136 --- [main] org.hibernate.SQL                        : create sequence plan_id_seq start 1 increment 1
2022-12-18 15:35:24.559 DEBUG 18136 --- [main] org.hibernate.SQL                        : create sequence transaction_id_seq start 1 increment 1
2022-12-18 15:35:24.562 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 15:35:24.572 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 15:35:24.578 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 15:35:24.589  INFO 18136 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 15:35:24.599  INFO 18136 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:35:26.091  WARN 18136 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/C:/Users/Brankovic/Desktop/employment-agency/PaymentService/paypal-service/target/classes/data-postgres.sql]: insert into subscription_plan(id, product_id, merchant_id, plan_paypal_id) values(nextval('plan_id_gen'), 1, 1, 'P-82T63888Y87914132MOPPK7Y'); nested exception is org.postgresql.util.PSQLException: ERROR: relation "plan_id_gen" does not exist
  Position: 91
2022-12-18 15:35:26.095  INFO 18136 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:35:26.095  INFO 18136 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 15:35:26.096 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:35:26.101 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:35:26.104 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:35:26.108 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:35:26.110 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 15:35:26.112 DEBUG 18136 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 15:35:26.116  INFO 18136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 15:35:26.128  INFO 18136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 15:35:26.131  INFO 18136 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-12-18 15:35:26.180  INFO 18136 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-12-18 15:35:26.223 ERROR 18136 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/C:/Users/Brankovic/Desktop/employment-agency/PaymentService/paypal-service/target/classes/data-postgres.sql]: insert into subscription_plan(id, product_id, merchant_id, plan_paypal_id) values(nextval('plan_id_gen'), 1, 1, 'P-82T63888Y87914132MOPPK7Y'); nested exception is org.postgresql.util.PSQLException: ERROR: relation "plan_id_gen" does not exist
  Position: 91
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at com.example.paypalservice.PaypalServiceApplication.main(PaypalServiceApplication.java:10) ~[classes/:na]
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/C:/Users/Brankovic/Desktop/employment-agency/PaymentService/paypal-service/target/classes/data-postgres.sql]: insert into subscription_plan(id, product_id, merchant_id, plan_paypal_id) values(nextval('plan_id_gen'), 1, 1, 'P-82T63888Y87914132MOPPK7Y'); nested exception is org.postgresql.util.PSQLException: ERROR: relation "plan_id_gen" does not exist
  Position: 91
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-5.3.24.jar:5.3.24]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.24.jar:5.3.24]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-5.3.24.jar:5.3.24]
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:90) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:145) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:107) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:101) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:65) ~[spring-boot-2.7.7-20221212.130126-11.jar:2.7.7-SNAPSHOT]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]
	... 18 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "plan_id_gen" does not exist
  Position: 91
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.24.jar:5.3.24]
	... 28 common frames omitted

2022-12-18 15:35:53.121  INFO 17764 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 17764 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 15:35:53.125  INFO 17764 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 15:35:54.512  INFO 17764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 15:35:54.745  INFO 17764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 206 ms. Found 3 JPA repository interfaces.
2022-12-18 15:35:55.095  INFO 17764 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 15:35:55.815  INFO 17764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 15:35:55.828  INFO 17764 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 15:35:55.829  INFO 17764 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 15:35:56.071  INFO 17764 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 15:35:56.072  INFO 17764 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2878 ms
2022-12-18 15:35:56.509  INFO 17764 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 15:35:56.589  INFO 17764 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 15:35:56.848  INFO 17764 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 15:35:56.988  INFO 17764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 15:35:57.235  INFO 17764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 15:35:57.262  INFO 17764 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 15:35:58.261 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 15:35:58.265  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:58.266  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 15:35:58.266 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 15:35:58.267  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:58.267  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 15:35:58.267 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 15:35:58.268  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:58.268  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 15:35:58.268 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 15:35:58.269  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:58.269  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 15:35:58.269 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 15:35:58.270  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:58.270  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_seq" does not exist, skipping
2022-12-18 15:35:58.270 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 15:35:58.271  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 15:35:58.271  WARN 17764 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "transaction_id_seq" does not exist, skipping
2022-12-18 15:35:58.273 DEBUG 17764 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 15:35:58.278 DEBUG 17764 --- [main] org.hibernate.SQL                        : create sequence plan_id_seq start 1 increment 1
2022-12-18 15:35:58.280 DEBUG 17764 --- [main] org.hibernate.SQL                        : create sequence transaction_id_seq start 1 increment 1
2022-12-18 15:35:58.283 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 15:35:58.292 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 15:35:58.298 DEBUG 17764 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 15:35:58.309  INFO 17764 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 15:35:58.321  INFO 17764 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 15:35:59.979  INFO 17764 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 15:36:00.414  WARN 17764 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 15:36:00.450  INFO 17764 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 15:36:00.599  INFO 17764 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 15:36:01.001  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 15:36:01.609  INFO 17764 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 15:36:01.622  INFO 17764 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 15:36:02.081  INFO 17764 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 15:36:02.088  INFO 17764 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 15:36:02.799  INFO 17764 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 15:36:02.834  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 15:36:02.834  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 15:36:02.834  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 15:36:02.835  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 15:36:02.837  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 15:36:02.838  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 15:36:02.838  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 15:36:03.190  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 15:36:03.194  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 15:36:03.200  INFO 17764 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 15:36:03.209  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671374163208 with initial instances count: 3
2022-12-18 15:36:03.219  INFO 17764 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 15:36:03.223  INFO 17764 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671374163223, current=UP, previous=STARTING]
2022-12-18 15:36:03.232  INFO 17764 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 15:36:03.361  INFO 17764 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 15:36:03.441  INFO 17764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 15:36:03.449  INFO 17764 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 15:36:03.668  INFO 17764 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 11.266 seconds (JVM running for 11.905)
2022-12-18 15:36:10.574  INFO 17764 --- [http-nio-7706-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 15:36:10.580  INFO 17764 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 15:36:10.591  INFO 17764 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2022-12-18 15:36:10.784 DEBUG 17764 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 15:36:10.799 TRACE 17764 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 15:36:13.689 DEBUG 17764 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 15:36:13.728 DEBUG 17764 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 15:36:13.732 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [null]
2022-12-18 15:36:13.732 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2022-12-18 15:36:13.733 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [null]
2022-12-18 15:36:13.733 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [PENDING]
2022-12-18 15:36:13.734 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 15:36:13 CET 2022]
2022-12-18 15:36:13.736 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [1]
2022-12-18 15:36:56.026 DEBUG 17764 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 15:36:56.029 DEBUG 17764 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 15:36:56.029 TRACE 17764 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 15:36:56.030 TRACE 17764 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2022-12-18 15:36:56.030 TRACE 17764 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 15:36:56.030 TRACE 17764 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [SUCCESS]
2022-12-18 15:36:56.030 TRACE 17764 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 15:36:55 CET 2022]
2022-12-18 15:36:56.030 TRACE 17764 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [2]
2022-12-18 19:59:05.128  WARN 17764 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h20m37s964ms976s800ns).
2022-12-18 20:01:10.519  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:06:10.521  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:11:10.536  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:16:10.550  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:21:10.556  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:26:10.567  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:29:36.234 DEBUG 17764 --- [http-nio-7706-exec-5] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:29:36.236 TRACE 17764 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:30:10.974 DEBUG 17764 --- [http-nio-7706-exec-6] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:30:10.974 TRACE 17764 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:31:10.577  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:33:29.000 DEBUG 17764 --- [http-nio-7706-exec-8] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:33:29.000 TRACE 17764 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:33:52.050 DEBUG 17764 --- [http-nio-7706-exec-9] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:33:52.051 TRACE 17764 --- [http-nio-7706-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:34:18.456 DEBUG 17764 --- [http-nio-7706-exec-10] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:34:18.457 TRACE 17764 --- [http-nio-7706-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:34:46.554 DEBUG 17764 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:34:46.555 TRACE 17764 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:36:10.592  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:36:48.710 DEBUG 17764 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:36:48.711 TRACE 17764 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:38:02.979 DEBUG 17764 --- [http-nio-7706-exec-5] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:38:02.980 TRACE 17764 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:38:22.374 DEBUG 17764 --- [http-nio-7706-exec-6] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:38:22.375 TRACE 17764 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:38:46.805 DEBUG 17764 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:38:46.806 TRACE 17764 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:40:22.649 DEBUG 17764 --- [http-nio-7706-exec-9] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:40:22.649 TRACE 17764 --- [http-nio-7706-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:40:44.317 DEBUG 17764 --- [http-nio-7706-exec-10] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:40:44.334 TRACE 17764 --- [http-nio-7706-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:40:46.737 DEBUG 17764 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 20:40:46.771 DEBUG 17764 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 20:40:46.773 TRACE 17764 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 20:40:46.775 TRACE 17764 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2022-12-18 20:40:46.775 TRACE 17764 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 20:40:46.776 TRACE 17764 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [FAILED]
2022-12-18 20:40:46.778 TRACE 17764 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 20:40:46 CET 2022]
2022-12-18 20:40:46.782 TRACE 17764 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [3]
2022-12-18 20:40:50.183 DEBUG 17764 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 20:40:50.186 DEBUG 17764 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 20:40:50.187 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 20:40:50.188 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2022-12-18 20:40:50.188 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 20:40:50.188 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [FAILED]
2022-12-18 20:40:50.189 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 20:40:50 CET 2022]
2022-12-18 20:40:50.189 TRACE 17764 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [4]
2022-12-18 20:40:57.189 DEBUG 17764 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:40:57.190 TRACE 17764 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:41:02.170 DEBUG 17764 --- [http-nio-7706-exec-4] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 20:41:02.175 DEBUG 17764 --- [http-nio-7706-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 20:41:02.176 TRACE 17764 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 20:41:02.176 TRACE 17764 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2022-12-18 20:41:02.176 TRACE 17764 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 20:41:02.176 TRACE 17764 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [FAILED]
2022-12-18 20:41:02.177 TRACE 17764 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 20:41:02 CET 2022]
2022-12-18 20:41:02.177 TRACE 17764 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [5]
2022-12-18 20:41:10.607  INFO 17764 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:43:23.005  INFO 17764 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 20:43:23.006  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671392603006, current=DOWN, previous=UP]
2022-12-18 20:43:23.007  INFO 17764 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 20:43:23.049  INFO 17764 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 20:43:23.257  INFO 17764 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 20:43:23.270  INFO 17764 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 20:43:23.278 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 20:43:23.297 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 20:43:23.299 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 20:43:23.306 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 20:43:23.308 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 20:43:23.310 DEBUG 17764 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 20:43:23.331  INFO 17764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 20:43:23.348  INFO 17764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 20:43:23.353  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 20:43:26.367  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 20:43:26.389  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 20:43:26.438  INFO 17764 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 20:44:04.478  INFO 14000 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 14000 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 20:44:04.484  INFO 14000 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 20:44:06.264  INFO 14000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 20:44:06.536  INFO 14000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 251 ms. Found 3 JPA repository interfaces.
2022-12-18 20:44:07.074  INFO 14000 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 20:44:10.206  INFO 14000 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 20:44:10.227  INFO 14000 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 20:44:10.228  INFO 14000 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 20:44:10.799  INFO 14000 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 20:44:10.800  INFO 14000 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6225 ms
2022-12-18 20:44:11.840  INFO 14000 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 20:44:11.982  INFO 14000 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 20:44:12.468  INFO 14000 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 20:44:12.711  INFO 14000 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 20:44:13.487  INFO 14000 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 20:44:13.569  INFO 14000 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 20:44:14.665 DEBUG 14000 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 20:44:14.706  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:44:14.706  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 20:44:14.706 DEBUG 14000 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 20:44:14.707  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:44:14.707  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 20:44:14.707 DEBUG 14000 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 20:44:14.708  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:44:14.708  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 20:44:14.709 DEBUG 14000 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 20:44:14.709  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:44:14.709  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 20:44:14.709 DEBUG 14000 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 20:44:14.710  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:44:14.710  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_seq" does not exist, skipping
2022-12-18 20:44:14.710 DEBUG 14000 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 20:44:14.711  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:44:14.711  WARN 14000 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "transaction_id_seq" does not exist, skipping
2022-12-18 20:44:14.714 DEBUG 14000 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 20:44:14.726 DEBUG 14000 --- [main] org.hibernate.SQL                        : create sequence plan_id_seq start 1 increment 1
2022-12-18 20:44:14.729 DEBUG 14000 --- [main] org.hibernate.SQL                        : create sequence transaction_id_seq start 1 increment 1
2022-12-18 20:44:14.731 DEBUG 14000 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 20:44:14.750 DEBUG 14000 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 20:44:14.756 DEBUG 14000 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 20:44:14.768  INFO 14000 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 20:44:14.780  INFO 14000 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 20:44:17.803  INFO 14000 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 20:44:18.000  WARN 14000 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 20:44:18.010  INFO 14000 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 20:44:18.063  INFO 14000 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 20:44:18.301  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 20:44:18.591  INFO 14000 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 20:44:18.592  INFO 14000 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 20:44:18.840  INFO 14000 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 20:44:18.841  INFO 14000 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 20:44:19.233  INFO 14000 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:44:19.262  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 20:44:19.262  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 20:44:19.262  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 20:44:19.262  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 20:44:19.262  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 20:44:19.263  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 20:44:19.263  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 20:44:19.552  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 20:44:19.557  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 20:44:19.563  INFO 14000 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 20:44:19.570  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671392659568 with initial instances count: 2
2022-12-18 20:44:19.573  INFO 14000 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 20:44:19.574  INFO 14000 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671392659574, current=UP, previous=STARTING]
2022-12-18 20:44:19.576  INFO 14000 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 20:44:19.605  INFO 14000 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 20:44:19.618  INFO 14000 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 20:44:19.619  INFO 14000 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 20:44:19.701  INFO 14000 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 16.204 seconds (JVM running for 19.395)
2022-12-18 20:44:44.511  INFO 14000 --- [http-nio-7706-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 20:44:44.511  INFO 14000 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 20:44:44.513  INFO 14000 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-12-18 20:44:49.996 DEBUG 14000 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:44:50.014 TRACE 14000 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:44:59.548  INFO 14000 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 20:44:59.548  INFO 14000 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671392699548, current=DOWN, previous=UP]
2022-12-18 20:44:59.549  INFO 14000 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 20:44:59.556  INFO 14000 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 20:44:59.585  INFO 14000 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 20:44:59.586  INFO 14000 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 20:44:59.588 DEBUG 14000 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 20:44:59.597 DEBUG 14000 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 20:44:59.602 DEBUG 14000 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 20:44:59.607 DEBUG 14000 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 20:44:59.609 DEBUG 14000 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 20:44:59.614 DEBUG 14000 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 20:44:59.622  INFO 14000 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 20:44:59.652  INFO 14000 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 20:44:59.654  INFO 14000 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 20:45:02.674  INFO 14000 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 20:45:02.695  INFO 14000 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 20:45:02.713  INFO 14000 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 20:45:22.102  INFO 4488 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 4488 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 20:45:22.107  INFO 4488 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 20:45:24.485  INFO 4488 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 20:45:24.706  INFO 4488 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 206 ms. Found 3 JPA repository interfaces.
2022-12-18 20:45:25.302  INFO 4488 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 20:45:26.012  INFO 4488 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 20:45:26.027  INFO 4488 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 20:45:26.028  INFO 4488 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 20:45:26.300  INFO 4488 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 20:45:26.301  INFO 4488 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3912 ms
2022-12-18 20:45:27.280  INFO 4488 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 20:45:27.382  INFO 4488 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 20:45:27.665  INFO 4488 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 20:45:27.816  INFO 4488 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 20:45:28.093  INFO 4488 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 20:45:28.123  INFO 4488 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 20:45:29.115 DEBUG 4488 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 20:45:29.122  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:45:29.122  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 20:45:29.122 DEBUG 4488 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 20:45:29.123  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:45:29.123  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 20:45:29.123 DEBUG 4488 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 20:45:29.124  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:45:29.124  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 20:45:29.124 DEBUG 4488 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 20:45:29.125  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:45:29.125  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 20:45:29.125 DEBUG 4488 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 20:45:29.125  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:45:29.125  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_seq" does not exist, skipping
2022-12-18 20:45:29.125 DEBUG 4488 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 20:45:29.126  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 20:45:29.126  WARN 4488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "transaction_id_seq" does not exist, skipping
2022-12-18 20:45:29.129 DEBUG 4488 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 20:45:29.133 DEBUG 4488 --- [main] org.hibernate.SQL                        : create sequence plan_id_seq start 1 increment 1
2022-12-18 20:45:29.135 DEBUG 4488 --- [main] org.hibernate.SQL                        : create sequence transaction_id_seq start 1 increment 1
2022-12-18 20:45:29.137 DEBUG 4488 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 20:45:29.147 DEBUG 4488 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 20:45:29.154 DEBUG 4488 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 20:45:29.163  INFO 4488 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 20:45:29.173  INFO 4488 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 20:45:31.098  INFO 4488 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 20:45:31.206  WARN 4488 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 20:45:31.213  INFO 4488 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 20:45:31.251  INFO 4488 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 20:45:31.589  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 20:45:31.929  INFO 4488 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 20:45:31.929  INFO 4488 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 20:45:32.268  INFO 4488 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 20:45:32.268  INFO 4488 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 20:45:32.494  INFO 4488 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:45:32.519  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 20:45:32.520  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 20:45:32.520  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 20:45:32.520  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 20:45:32.520  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 20:45:32.521  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 20:45:32.521  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 20:45:32.716  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 20:45:32.723  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 20:45:32.728  INFO 4488 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 20:45:32.733  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671392732732 with initial instances count: 2
2022-12-18 20:45:32.735  INFO 4488 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 20:45:32.749  INFO 4488 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671392732749, current=UP, previous=STARTING]
2022-12-18 20:45:32.753  INFO 4488 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 20:45:32.796  INFO 4488 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 20:45:32.804  INFO 4488 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 20:45:32.805  INFO 4488 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 20:45:32.894  INFO 4488 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 12.944 seconds (JVM running for 13.556)
2022-12-18 20:45:41.547  INFO 4488 --- [http-nio-7706-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 20:45:41.548  INFO 4488 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 20:45:41.551  INFO 4488 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-12-18 20:45:41.664 DEBUG 4488 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:45:41.672 TRACE 4488 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:48:33.107 DEBUG 4488 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:48:33.108 TRACE 4488 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:49:29.373 DEBUG 4488 --- [http-nio-7706-exec-4] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:49:29.374 TRACE 4488 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:50:14.607 DEBUG 4488 --- [http-nio-7706-exec-5] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:50:14.608 TRACE 4488 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:50:32.540  INFO 4488 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:50:44.187 DEBUG 4488 --- [http-nio-7706-exec-6] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:50:44.188 TRACE 4488 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:51:23.361 DEBUG 4488 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:51:23.362 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:52:17.157 DEBUG 4488 --- [http-nio-7706-exec-8] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:52:17.157 TRACE 4488 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:53:09.088 DEBUG 4488 --- [http-nio-7706-exec-9] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:53:09.089 TRACE 4488 --- [http-nio-7706-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:54:18.131 DEBUG 4488 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:54:18.132 TRACE 4488 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:54:38.622 DEBUG 4488 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:54:38.622 TRACE 4488 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:54:55.721 DEBUG 4488 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 20:54:55.779 DEBUG 4488 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 20:54:55.779 TRACE 4488 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 20:54:55.780 TRACE 4488 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2022-12-18 20:54:55.780 TRACE 4488 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 20:54:55.780 TRACE 4488 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [FAILED]
2022-12-18 20:54:55.780 TRACE 4488 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 20:54:55 CET 2022]
2022-12-18 20:54:55.781 TRACE 4488 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [1]
2022-12-18 20:55:31.071 DEBUG 4488 --- [http-nio-7706-exec-4] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:55:31.071 TRACE 4488 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:55:32.547  INFO 4488 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 20:55:57.089 DEBUG 4488 --- [http-nio-7706-exec-5] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:55:57.091 TRACE 4488 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:56:44.528 DEBUG 4488 --- [http-nio-7706-exec-6] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:56:44.528 TRACE 4488 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:57:30.732 DEBUG 4488 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 20:57:30.739 DEBUG 4488 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 20:57:30.739 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [null]
2022-12-18 20:57:30.765 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2022-12-18 20:57:30.767 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [null]
2022-12-18 20:57:30.767 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [PENDING]
2022-12-18 20:57:30.770 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 20:57:30 CET 2022]
2022-12-18 20:57:30.771 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [2]
2022-12-18 20:57:34.671 DEBUG 4488 --- [http-nio-7706-exec-8] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:57:34.672 TRACE 4488 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:57:45.347 DEBUG 4488 --- [http-nio-7706-exec-9] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:57:45.348 TRACE 4488 --- [http-nio-7706-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:58:28.334 DEBUG 4488 --- [http-nio-7706-exec-10] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:58:28.335 TRACE 4488 --- [http-nio-7706-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 20:59:14.498 DEBUG 4488 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 20:59:14.498 TRACE 4488 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 21:00:32.558  INFO 4488 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 21:01:39.333 DEBUG 4488 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 21:01:39.334 TRACE 4488 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 21:03:11.586 DEBUG 4488 --- [http-nio-7706-exec-5] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 21:03:11.587 TRACE 4488 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 21:03:51.473 DEBUG 4488 --- [http-nio-7706-exec-6] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 21:03:51.475 DEBUG 4488 --- [http-nio-7706-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 21:03:51.475 TRACE 4488 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:03:51.476 TRACE 4488 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:03:51.476 TRACE 4488 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:03:51.476 TRACE 4488 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [PENDING]
2022-12-18 21:03:51.476 TRACE 4488 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:03:17 CET 2022]
2022-12-18 21:03:51.476 TRACE 4488 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [3]
2022-12-18 21:04:15.420 DEBUG 4488 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 21:04:15.421 DEBUG 4488 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 21:04:15.422 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:04:15.422 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:04:15.422 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:04:15.422 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [PENDING]
2022-12-18 21:04:15.422 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:04:15 CET 2022]
2022-12-18 21:04:15.423 TRACE 4488 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [4]
2022-12-18 21:04:49.839 DEBUG 4488 --- [http-nio-7706-exec-8] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 21:04:49.841 DEBUG 4488 --- [http-nio-7706-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 21:04:49.842 TRACE 4488 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:04:49.842 TRACE 4488 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:04:49.842 TRACE 4488 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:04:49.842 TRACE 4488 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [SUCCESS]
2022-12-18 21:04:49.843 TRACE 4488 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:04:49 CET 2022]
2022-12-18 21:04:49.843 TRACE 4488 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [5]
2022-12-18 21:05:32.565  INFO 4488 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 21:07:10.035  INFO 4488 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 21:07:10.036  INFO 4488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671394030036, current=DOWN, previous=UP]
2022-12-18 21:07:10.038  INFO 4488 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 21:07:10.104  INFO 4488 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 21:07:10.153  INFO 4488 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 21:07:10.155  INFO 4488 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 21:07:10.156 DEBUG 4488 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 21:07:10.167 DEBUG 4488 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 21:07:10.170 DEBUG 4488 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 21:07:10.175 DEBUG 4488 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 21:07:10.177 DEBUG 4488 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 21:07:10.179 DEBUG 4488 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 21:07:10.194  INFO 4488 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 21:07:10.259  INFO 4488 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 21:07:10.265  INFO 4488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 21:07:13.273  INFO 4488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-12-18 21:07:13.279  INFO 4488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - deregister  status: 200
2022-12-18 21:07:13.300  INFO 4488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-12-18 21:07:18.229  INFO 19240 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 19240 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 21:07:18.235  INFO 19240 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 21:07:19.914  INFO 19240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 21:07:20.466  INFO 19240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 515 ms. Found 3 JPA repository interfaces.
2022-12-18 21:07:20.842  INFO 19240 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 21:07:21.583  INFO 19240 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 21:07:21.598  INFO 19240 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 21:07:21.599  INFO 19240 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 21:07:21.826  INFO 19240 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 21:07:21.826  INFO 19240 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3436 ms
2022-12-18 21:07:22.509  INFO 19240 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 21:07:22.624  INFO 19240 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 21:07:22.977  INFO 19240 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 21:07:23.248  INFO 19240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 21:07:23.543  INFO 19240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 21:07:23.575  INFO 19240 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 21:07:24.695 DEBUG 19240 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 21:07:24.701  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:07:24.702  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 21:07:24.702 DEBUG 19240 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 21:07:24.703  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:07:24.703  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 21:07:24.703 DEBUG 19240 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 21:07:24.704  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:07:24.704  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 21:07:24.704 DEBUG 19240 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 21:07:24.705  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:07:24.705  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 21:07:24.705 DEBUG 19240 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 21:07:24.706  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:07:24.706  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_seq" does not exist, skipping
2022-12-18 21:07:24.706 DEBUG 19240 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 21:07:24.707  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:07:24.707  WARN 19240 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "transaction_id_seq" does not exist, skipping
2022-12-18 21:07:24.710 DEBUG 19240 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 21:07:24.715 DEBUG 19240 --- [main] org.hibernate.SQL                        : create sequence plan_id_seq start 1 increment 1
2022-12-18 21:07:24.718 DEBUG 19240 --- [main] org.hibernate.SQL                        : create sequence transaction_id_seq start 1 increment 1
2022-12-18 21:07:24.721 DEBUG 19240 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 21:07:24.732 DEBUG 19240 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 21:07:24.739 DEBUG 19240 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 21:07:24.750  INFO 19240 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 21:07:24.761  INFO 19240 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 21:07:26.681  INFO 19240 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 21:07:26.814  WARN 19240 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 21:07:26.822  INFO 19240 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 21:07:26.869  INFO 19240 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 21:07:27.081  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 21:07:27.335  INFO 19240 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 21:07:27.336  INFO 19240 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 21:07:27.695  INFO 19240 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 21:07:27.696  INFO 19240 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 21:07:28.014  INFO 19240 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 21:07:28.043  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 21:07:28.044  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 21:07:28.044  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 21:07:28.044  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 21:07:28.045  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 21:07:28.045  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 21:07:28.045  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 21:07:28.378  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 21:07:28.382  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 21:07:28.386  INFO 19240 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 21:07:28.392  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671394048390 with initial instances count: 2
2022-12-18 21:07:28.394  INFO 19240 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 21:07:28.396  INFO 19240 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671394048396, current=UP, previous=STARTING]
2022-12-18 21:07:28.400  INFO 19240 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 21:07:28.439  INFO 19240 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 21:07:28.448  INFO 19240 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 21:07:28.449  INFO 19240 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 21:07:28.539  INFO 19240 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 11.179 seconds (JVM running for 12.072)
2022-12-18 21:08:05.268  INFO 19240 --- [http-nio-7706-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 21:08:05.269  INFO 19240 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 21:08:05.272  INFO 19240 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-12-18 21:08:05.465 DEBUG 19240 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 21:08:05.471 TRACE 19240 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 21:08:08.277 DEBUG 19240 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 21:08:08.349 DEBUG 19240 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 21:08:08.350 TRACE 19240 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:08:08.350 TRACE 19240 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:08:08.350 TRACE 19240 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:08:08.351 TRACE 19240 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [PENDING]
2022-12-18 21:08:08.351 TRACE 19240 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:08:08 CET 2022]
2022-12-18 21:08:08.353 TRACE 19240 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [1]
2022-12-18 21:08:18.394 DEBUG 19240 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 21:08:18.395 DEBUG 19240 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 21:08:18.396 TRACE 19240 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:08:18.396 TRACE 19240 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:08:18.396 TRACE 19240 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:08:18.398 TRACE 19240 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [SUCCESS]
2022-12-18 21:08:18.398 TRACE 19240 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:08:18 CET 2022]
2022-12-18 21:08:18.398 TRACE 19240 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [2]
2022-12-18 21:09:08.767 DEBUG 19240 --- [http-nio-7706-exec-4] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 21:09:08.768 DEBUG 19240 --- [http-nio-7706-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 21:09:08.769 TRACE 19240 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:09:08.769 TRACE 19240 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:09:08.769 TRACE 19240 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:09:08.769 TRACE 19240 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [PENDING]
2022-12-18 21:09:08.769 TRACE 19240 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:09:08 CET 2022]
2022-12-18 21:09:08.769 TRACE 19240 --- [http-nio-7706-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [3]
2022-12-18 21:09:17.641 DEBUG 19240 --- [http-nio-7706-exec-5] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 21:09:17.643 DEBUG 19240 --- [http-nio-7706-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 21:09:17.644 TRACE 19240 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:09:17.644 TRACE 19240 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:09:17.644 TRACE 19240 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:09:17.645 TRACE 19240 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [SUCCESS]
2022-12-18 21:09:17.645 TRACE 19240 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:09:17 CET 2022]
2022-12-18 21:09:17.645 TRACE 19240 --- [http-nio-7706-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [4]
2022-12-18 21:09:40.877 DEBUG 19240 --- [http-nio-7706-exec-6] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 21:09:40.878 TRACE 19240 --- [http-nio-7706-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 21:09:43.896 DEBUG 19240 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 21:09:43.898 DEBUG 19240 --- [http-nio-7706-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 21:09:43.899 TRACE 19240 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:09:43.899 TRACE 19240 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:09:43.899 TRACE 19240 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:09:43.899 TRACE 19240 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [PENDING]
2022-12-18 21:09:43.900 TRACE 19240 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:09:43 CET 2022]
2022-12-18 21:09:43.900 TRACE 19240 --- [http-nio-7706-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [5]
2022-12-18 21:10:01.845 DEBUG 19240 --- [http-nio-7706-exec-8] org.hibernate.SQL                        : 
    select
        transactio0_.id as id1_2_,
        transactio0_.merchant_uuid as merchant2_2_,
        transactio0_.payer_id as payer_id3_2_,
        transactio0_.product_uuid as product_4_2_,
        transactio0_.status as status5_2_,
        transactio0_.timestamp as timestam6_2_ 
    from
        transaction transactio0_ 
    where
        transactio0_.merchant_uuid=? 
        and transactio0_.product_uuid=?
2022-12-18 21:10:01.848 TRACE 19240 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:10:01.849 TRACE 19240 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [1]
2022-12-18 21:10:10.868 DEBUG 19240 --- [http-nio-7706-exec-8] org.hibernate.SQL                        : 
    select
        transactio0_.id as id1_2_0_,
        transactio0_.merchant_uuid as merchant2_2_0_,
        transactio0_.payer_id as payer_id3_2_0_,
        transactio0_.product_uuid as product_4_2_0_,
        transactio0_.status as status5_2_0_,
        transactio0_.timestamp as timestam6_2_0_ 
    from
        transaction transactio0_ 
    where
        transactio0_.id=?
2022-12-18 21:10:10.872 TRACE 19240 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [5]
2022-12-18 21:10:10.878 DEBUG 19240 --- [http-nio-7706-exec-8] org.hibernate.SQL                        : 
    update
        transaction 
    set
        merchant_uuid=?,
        payer_id=?,
        product_uuid=?,
        status=?,
        timestamp=? 
    where
        id=?
2022-12-18 21:10:10.879 TRACE 19240 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:10:10.880 TRACE 19240 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:10:10.881 TRACE 19240 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:10:10.882 TRACE 19240 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [SUCCESS]
2022-12-18 21:10:10.883 TRACE 19240 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:09:54 CET 2022]
2022-12-18 21:10:10.885 TRACE 19240 --- [http-nio-7706-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [5]
2022-12-18 21:10:10.901  INFO 19240 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYPAL-SERVICE with eureka with status DOWN
2022-12-18 21:10:10.901  INFO 19240 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671394210901, current=DOWN, previous=UP]
2022-12-18 21:10:10.901  INFO 19240 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 21:10:10.909  INFO 19240 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 21:10:10.941  INFO 19240 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 21:10:10.942  INFO 19240 --- [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-12-18 21:10:10.943 DEBUG 19240 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 21:10:10.952 DEBUG 19240 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 21:10:10.954 DEBUG 19240 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 21:10:10.959 DEBUG 19240 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 21:10:10.961 DEBUG 19240 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 21:10:10.963 DEBUG 19240 --- [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 21:10:10.967  INFO 19240 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-12-18 21:10:10.990  INFO 19240 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-12-18 21:10:10.992  INFO 19240 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-12-18 21:10:18.280  INFO 14808 --- [main] c.e.p.PaypalServiceApplication           : Starting PaypalServiceApplication using Java 17.0.2 on DESKTOP-4HG5T0S with PID 14808 (C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service\target\classes started by Brankovic in C:\Users\Brankovic\Desktop\employment-agency\PaymentService\paypal-service)
2022-12-18 21:10:18.285  INFO 14808 --- [main] c.e.p.PaypalServiceApplication           : No active profile set, falling back to 1 default profile: "default"
2022-12-18 21:10:20.026  INFO 14808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-12-18 21:10:20.414  INFO 14808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 373 ms. Found 3 JPA repository interfaces.
2022-12-18 21:10:20.772  INFO 14808 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9bc62221-0b81-34a6-9f8f-3317c38b1f6c
2022-12-18 21:10:21.563  INFO 14808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7706 (http)
2022-12-18 21:10:21.579  INFO 14808 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-12-18 21:10:21.580  INFO 14808 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.69]
2022-12-18 21:10:21.810  INFO 14808 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-12-18 21:10:21.810  INFO 14808 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3429 ms
2022-12-18 21:10:22.321  INFO 14808 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-12-18 21:10:22.432  INFO 14808 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2022-12-18 21:10:22.795  INFO 14808 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-12-18 21:10:22.986  INFO 14808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-12-18 21:10:23.315  INFO 14808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-12-18 21:10:23.352  INFO 14808 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2022-12-18 21:10:24.447 DEBUG 14808 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists merchant cascade
2022-12-18 21:10:24.452  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:10:24.453  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "merchant" does not exist, skipping
2022-12-18 21:10:24.453 DEBUG 14808 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists subscription_plan cascade
2022-12-18 21:10:24.454  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:10:24.454  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "subscription_plan" does not exist, skipping
2022-12-18 21:10:24.454 DEBUG 14808 --- [main] org.hibernate.SQL                        : 
    
    drop table if exists transaction cascade
2022-12-18 21:10:24.454  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:10:24.454  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "transaction" does not exist, skipping
2022-12-18 21:10:24.454 DEBUG 14808 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists merchant_id_seq
2022-12-18 21:10:24.455  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:10:24.455  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "merchant_id_seq" does not exist, skipping
2022-12-18 21:10:24.455 DEBUG 14808 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists plan_id_seq
2022-12-18 21:10:24.455  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:10:24.456  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "plan_id_seq" does not exist, skipping
2022-12-18 21:10:24.456 DEBUG 14808 --- [main] org.hibernate.SQL                        : 
    
    drop sequence if exists transaction_id_seq
2022-12-18 21:10:24.456  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2022-12-18 21:10:24.456  WARN 14808 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : sequence "transaction_id_seq" does not exist, skipping
2022-12-18 21:10:24.459 DEBUG 14808 --- [main] org.hibernate.SQL                        : create sequence merchant_id_seq start 1 increment 1
2022-12-18 21:10:24.466 DEBUG 14808 --- [main] org.hibernate.SQL                        : create sequence plan_id_seq start 1 increment 1
2022-12-18 21:10:24.468 DEBUG 14808 --- [main] org.hibernate.SQL                        : create sequence transaction_id_seq start 1 increment 1
2022-12-18 21:10:24.471 DEBUG 14808 --- [main] org.hibernate.SQL                        : 
    
    create table merchant (
       merchant_id int8 not null,
        email varchar(255),
        merchant_paypal_id varchar(255),
        merchant_uuid varchar(255),
        primary key (merchant_id)
    )
2022-12-18 21:10:24.483 DEBUG 14808 --- [main] org.hibernate.SQL                        : 
    
    create table subscription_plan (
       id int8 not null,
        merchant_id int8,
        plan_paypal_id varchar(255),
        product_id int8,
        primary key (id)
    )
2022-12-18 21:10:24.487 DEBUG 14808 --- [main] org.hibernate.SQL                        : 
    
    create table transaction (
       id int8 not null,
        merchant_uuid varchar(255),
        payer_id varchar(255),
        product_uuid varchar(255),
        status varchar(255),
        timestamp timestamp,
        primary key (id)
    )
2022-12-18 21:10:24.502  INFO 14808 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-12-18 21:10:24.513  INFO 14808 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-12-18 21:10:27.796  INFO 14808 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2022-12-18 21:10:28.333  WARN 14808 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-12-18 21:10:28.358  INFO 14808 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2022-12-18 21:10:28.448  INFO 14808 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-12-18 21:10:28.751  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-12-18 21:10:29.275  INFO 14808 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2022-12-18 21:10:29.275  INFO 14808 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2022-12-18 21:10:29.756  INFO 14808 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2022-12-18 21:10:29.756  INFO 14808 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2022-12-18 21:10:30.296  INFO 14808 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-12-18 21:10:30.341  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-12-18 21:10:30.341  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-12-18 21:10:30.341  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-12-18 21:10:30.345  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-12-18 21:10:30.350  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-12-18 21:10:30.350  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-12-18 21:10:30.351  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-12-18 21:10:30.872  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-12-18 21:10:30.877  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-12-18 21:10:30.880  INFO 14808 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-12-18 21:10:30.888  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1671394230885 with initial instances count: 3
2022-12-18 21:10:30.891  INFO 14808 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYPAL-SERVICE with eureka with status UP
2022-12-18 21:10:30.893  INFO 14808 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1671394230893, current=UP, previous=STARTING]
2022-12-18 21:10:30.897  INFO 14808 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706: registering service...
2022-12-18 21:10:30.982  INFO 14808 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYPAL-SERVICE/DESKTOP-4HG5T0S:paypal-service:7706 - registration status: 204
2022-12-18 21:10:31.002  INFO 14808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7706 (http) with context path ''
2022-12-18 21:10:31.003  INFO 14808 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 7706
2022-12-18 21:10:31.380  INFO 14808 --- [main] c.e.p.PaypalServiceApplication           : Started PaypalServiceApplication in 13.96 seconds (JVM running for 14.905)
2022-12-18 21:10:37.885  INFO 14808 --- [http-nio-7706-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-12-18 21:10:37.885  INFO 14808 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-12-18 21:10:37.891  INFO 14808 --- [http-nio-7706-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-12-18 21:10:38.534 DEBUG 14808 --- [http-nio-7706-exec-1] org.hibernate.SQL                        : 
    select
        merchant0_.merchant_id as merchant1_0_0_,
        merchant0_.email as email2_0_0_,
        merchant0_.merchant_paypal_id as merchant3_0_0_,
        merchant0_.merchant_uuid as merchant4_0_0_ 
    from
        merchant merchant0_ 
    where
        merchant0_.merchant_id=?
2022-12-18 21:10:38.544 TRACE 14808 --- [http-nio-7706-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 21:10:49.566 DEBUG 14808 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    select
        nextval ('transaction_id_seq')
2022-12-18 21:10:49.598 DEBUG 14808 --- [http-nio-7706-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        transaction
        (merchant_uuid, payer_id, product_uuid, status, timestamp, id) 
    values
        (?, ?, ?, ?, ?, ?)
2022-12-18 21:10:49.598 TRACE 14808 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:10:49.599 TRACE 14808 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:10:49.600 TRACE 14808 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:10:49.600 TRACE 14808 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [PENDING]
2022-12-18 21:10:49.602 TRACE 14808 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:10:49 CET 2022]
2022-12-18 21:10:49.604 TRACE 14808 --- [http-nio-7706-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [1]
2022-12-18 21:10:58.702 DEBUG 14808 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        transactio0_.id as id1_2_,
        transactio0_.merchant_uuid as merchant2_2_,
        transactio0_.payer_id as payer_id3_2_,
        transactio0_.product_uuid as product_4_2_,
        transactio0_.status as status5_2_,
        transactio0_.timestamp as timestam6_2_ 
    from
        transaction transactio0_ 
    where
        transactio0_.merchant_uuid=? 
        and transactio0_.product_uuid=?
2022-12-18 21:10:58.704 TRACE 14808 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:10:58.705 TRACE 14808 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [1]
2022-12-18 21:10:58.743 DEBUG 14808 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    select
        transactio0_.id as id1_2_0_,
        transactio0_.merchant_uuid as merchant2_2_0_,
        transactio0_.payer_id as payer_id3_2_0_,
        transactio0_.product_uuid as product_4_2_0_,
        transactio0_.status as status5_2_0_,
        transactio0_.timestamp as timestam6_2_0_ 
    from
        transaction transactio0_ 
    where
        transactio0_.id=?
2022-12-18 21:10:58.744 TRACE 14808 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2022-12-18 21:10:58.750 DEBUG 14808 --- [http-nio-7706-exec-3] org.hibernate.SQL                        : 
    update
        transaction 
    set
        merchant_uuid=?,
        payer_id=?,
        product_uuid=?,
        status=?,
        timestamp=? 
    where
        id=?
2022-12-18 21:10:58.750 TRACE 14808 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [1]
2022-12-18 21:10:58.750 TRACE 14808 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [wasd]
2022-12-18 21:10:58.750 TRACE 14808 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [1]
2022-12-18 21:10:58.750 TRACE 14808 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [SUCCESS]
2022-12-18 21:10:58.751 TRACE 14808 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [Sun Dec 18 21:10:58 CET 2022]
2022-12-18 21:10:58.751 TRACE 14808 --- [http-nio-7706-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [1]
